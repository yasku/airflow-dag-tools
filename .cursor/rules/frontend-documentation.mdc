---
description: 
globs: 
---
# **ğŸ“Œ DocumentaciÃ³n TÃ©cnica y Funcional del Frontend**

## **ğŸ”¹ IntroducciÃ³n**
Este documento describe en detalle la configuraciÃ³n, estructura y funcionamiento del **frontend** de la aplicaciÃ³n web de validaciÃ³n de DAGs de Airflow.

El frontend estÃ¡ construido con **Vite + React + Tailwind CSS**, y se comunica con el backend mediante **FastAPI**.

---

## **ğŸ“Œ InstalaciÃ³n y ConfiguraciÃ³n**
### **1ï¸âƒ£ Requisitos Previos**
- **Node.js** versiÃ³n 18 o superior.
- **npm** o **yarn** instalado.
- **Backend en ejecuciÃ³n** (`uvicorn main:app --reload`).

### **2ï¸âƒ£ InstalaciÃ³n del Frontend**
Ejecuta los siguientes comandos:
```bash
cd frontend
npm install  # Instala las dependencias
npm install react-hot-toast @heroicons/react  # Componentes adicionales para notificaciones y iconos
```

### **3ï¸âƒ£ Iniciar el Frontend**
```bash
npm run dev
```
Esto iniciarÃ¡ el frontend en `http://localhost:5173`.

---

## **ğŸ“Œ Estructura del Proyecto**
```
/frontend
 â”œâ”€â”€ /src
 â”‚   â”œâ”€â”€ App.jsx            # Componente principal
 â”‚   â”œâ”€â”€ main.jsx           # Punto de entrada de React
 â”‚   â”œâ”€â”€ index.css          # Estilos globales de Tailwind
 â”‚   â”œâ”€â”€ App.css            # Estilos especÃ­ficos de la app
 â”‚   â”œâ”€â”€ /pages             # PÃ¡ginas principales
 â”‚   â”‚   â”œâ”€â”€ Home.jsx       # PÃ¡gina de inicio
 â”‚   â”‚   â”œâ”€â”€ Upload.jsx     # PÃ¡gina para subir DAGs
 â”‚   â”‚   â”œâ”€â”€ Validate.jsx   # PÃ¡gina de validaciÃ³n
 â”‚   â”œâ”€â”€ /components        # Componentes reutilizables
 â”‚   â”‚   â”œâ”€â”€ Navbar.jsx     # Barra de navegaciÃ³n
 â”œâ”€â”€ package.json          # Dependencias de React
 â”œâ”€â”€ tailwind.config.js    # ConfiguraciÃ³n de Tailwind
 â”œâ”€â”€ postcss.config.cjs    # ConfiguraciÃ³n de PostCSS
 â”œâ”€â”€ index.html            # PÃ¡gina principal
 â”œâ”€â”€ vite.config.js        # ConfiguraciÃ³n de Vite
```

---

## **ğŸ“Œ ConfiguraciÃ³n Clave**

### **1ï¸âƒ£ Tailwind CSS (`tailwind.config.js`)**
```javascript
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,jsx,ts,tsx}"
  ],
  theme: {
    extend: {},
  },
  plugins: [],
};
```
ğŸ“Œ **Se escanean todos los archivos en `src/` para aplicar estilos de Tailwind.**

### **2ï¸âƒ£ PostCSS (`postcss.config.cjs`)**
```javascript
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
};
```
ğŸ“Œ **Permite que Tailwind funcione con PostCSS.**

### **3ï¸âƒ£ Estilos Globales (`index.css`)**
```css
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-gray-900 text-gray-100;
  }
}

@layer components {
  .btn-primary {
    @apply px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg 
    transition-all duration-200 transform hover:scale-105 
    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50;
  }

  .card {
    @apply bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-700
    hover:border-gray-600 transition-all duration-200;
  }

  .input-file {
    @apply block w-full text-sm text-gray-400
    file:mr-4 file:py-2 file:px-4 file:rounded-lg
    file:border-0 file:text-sm file:font-semibold
    file:bg-blue-600 file:text-white
    hover:file:bg-blue-700 cursor-pointer;
  }
}
```

---

## **ğŸ“Œ ExplicaciÃ³n de los Archivos**

### **ğŸ“‚ `App.jsx` (Componente Principal)**
**Funcionalidad:**
- Define las rutas principales con `react-router-dom`.
- Incluye el `Navbar` y las pÃ¡ginas de la app.
- Configura el sistema de notificaciones toast
- Implementa tema dark consistente

```javascript
import "./index.css";  // Importa Tailwind CSS
import { BrowserRouter as Router, Routes, Route } from "react-router-dom";
import Home from "./pages/Home";
import Upload from "./pages/Upload";
import Validate from "./pages/Validate";
import Navbar from "./components/Navbar";

function App() {
  return (
    <Router>
      <Navbar />
      <div className="container mx-auto p-4">
        <Routes>
          <Route path="/" element={<Home />} />
          <Route path="/upload" element={<Upload />} />
          <Route path="/validate" element={<Validate />} />
        </Routes>
      </div>
    </Router>
  );
}
export default App;
```

---

### **ğŸ“‚ `Navbar.jsx` (Barra de NavegaciÃ³n)**
**Funcionalidad:**
- Logo y tÃ­tulo de la aplicaciÃ³n con icono
- Indicador de pÃ¡gina activa con subrayado y color
- DiseÃ±o responsive y animaciones
- Tema dark integrado
- NavegaciÃ³n simplificada y moderna

```javascript
import { Link } from "react-router-dom";

function Navbar() {
  return (
    <nav className="bg-gray-900 p-4 text-white">
      <div className="container mx-auto flex justify-between">
        <h1 className="text-xl font-bold">DAG Validator</h1>
        <div>
          <Link className="mx-2 hover:underline" to="/">Inicio</Link>
          <Link className="mx-2 hover:underline" to="/upload">Subir DAG</Link>
          <Link className="mx-2 hover:underline" to="/validate">Validar DAG</Link>
        </div>
      </div>
    </nav>
  );
}
export default Navbar;
```

---

## **ğŸ“Œ Uso del Frontend**
### **1ï¸âƒ£ Subir un DAG y Validarlo**
Desde la pÃ¡gina `Upload.jsx`, se envÃ­a un archivo al backend para su validaciÃ³n.

```javascript
const handleUpload = async () => {
  const formData = new FormData();
  formData.append("file", file);
  try {
    const response = await fetch("http://127.0.0.1:8000/validate_dag/", {
      method: "POST",
      body: formData,
    });
    const result = await response.json();
    console.log(result);
  } catch (error) {
    console.error("Error al subir el DAG:", error);
  }
};
```
ğŸ“Œ **El resultado se muestra en `Validate.jsx`.**

---

## **ğŸ“Œ ConclusiÃ³n**
El frontend proporciona una interfaz moderna y profesional con:

âœ… **Interfaz construida con Vite, React y Tailwind CSS**  
âœ… **IntegraciÃ³n con FastAPI para validar DAGs**  
âœ… **Estructura modular y escalable**  
âœ… **DiseÃ±o dark theme moderno y profesional**
âœ… **Feedback visual inmediato con notificaciones toast**
âœ… **Componentes interactivos y animados**
âœ… **Sistema robusto de manejo de errores**
âœ… **Experiencia de usuario mejorada**

ğŸ“Œ **Este documento sirve como referencia para futuras mejoras en la UI y optimizaciÃ³n del frontend.** ğŸš€

## **ğŸ“Œ Componentes Principales**

### **1ï¸âƒ£ App.jsx**
**Funcionalidad:**
- Define las rutas principales con `react-router-dom`
- Incluye el `Navbar` y las pÃ¡ginas de la app
- Configura el sistema de notificaciones toast
- Implementa tema dark consistente

### **2ï¸âƒ£ Navbar.jsx**
**Nueva ImplementaciÃ³n:**
- Logo y tÃ­tulo de la aplicaciÃ³n con icono
- Indicador de pÃ¡gina activa con subrayado y color
- DiseÃ±o responsive y animaciones
- Tema dark integrado
- NavegaciÃ³n simplificada y moderna

### **3ï¸âƒ£ Home.jsx**
**Nueva ImplementaciÃ³n:**
- DiseÃ±o moderno con cards informativas
- Iconos ilustrativos
- Llamada a la acciÃ³n clara
- Grid responsive
- Animaciones suaves

### **4ï¸âƒ£ Upload.jsx**
**Nueva ImplementaciÃ³n:**
- Selector de archivo estilizado
- BotÃ³n de validaciÃ³n con estados de carga
- Indicador de progreso animado
- Sistema de notificaciones toast
- Manejo de errores mejorado

---

## **ğŸ“Œ Sistema de Notificaciones**
Implementado con `react-hot-toast`:
```javascript
<Toaster 
  position="bottom-right"
  toastOptions={{
    style: {
      background: '#1F2937',
      color: '#fff',
    },
    success: {
      iconTheme: {
        primary: '#10B981',
        secondary: '#fff',
      },
    },
    error: {
      iconTheme: {
        primary: '#EF4444',
        secondary: '#fff',
      },
    },
  }}
/>
```

---

## **ğŸ“Œ Manejo de Errores**
Sistema robusto de visualizaciÃ³n de errores:
```javascript
// Tipos de errores manejados
{
  // Error de sintaxis
  error: {
    type: "SyntaxError",
    line: 5,
    message: "invalid syntax"
  }

  // Error de Airflow
  error: {
    type: "Airflow DAG ImportError",
    details: [...]
  }

  // Error simple
  error: "Error al comunicarse con el servidor"
}
```


